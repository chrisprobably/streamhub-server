package com.streamhub;class SpecialPages {	private static final String IFRAME_HTTP_RESPONSE = 					"HTTP/1.1 200 OK\r\nServer: StreamHub\r\nContent-Type: text/html\r\nConnection: close\r\n\r\n"					+ "<html>"					+ "\n<head>"					+ "\n<title>iframe</title>"					+ "\n<script type=\"text/javascript\">"					+ "\nfunction getQueryParam(name) {"					+ "\n	var pattern = new RegExp(\"[?&]\" + name + \"=[^&]*\");"					+ "\n	var result = pattern.exec(location.search);"					+ "\n	if (result && result[0]) {"					+ "\n		var prefLen = name.length + 2;"					+ "\n		if (window.decodeURIComponent) {"					+ "\n			return decodeURIComponent(result[0].substring(prefLen));"					+ "\n		} else {"					+ "\n			return unescape(result[0].substring(prefLen));"					+ "\n		}"					+ "\n	} else {"					+ "\n		return null;"					+ "\n	}"					+ "\n}"					+ "\n" +							"window.request = function(url, oHub) {" +							"var xhr = new XMLHttpRequest();  " +                   				"xhr.open(\"GET\", url, true);" + 				"xhr.onreadystatechange=function(){" +				"    try{if (xhr.readyState == 4){" +				"      if (xhr.status == 200){" +				"        oHub.eRequestIFrame.contentWindow.document.body.innerHTML = xhr.responseText;" +				"      	oHub.buildOnRequestComplete(oHub)();" +				"      }" +				"    }}catch(e) {}" +				"  };" +				"xhr.send(null); " +							"" +							"}" +							""					+ "\nwindow.connect = function (sUrl) {"					+ "\n var frame = document.getElementsByTagName('frame')[1];"					+ "\n	frame.src = sUrl;"					+ "\n};"					+ "\n"					+ "\nfunction loadedFrameset() {"					+ "\n	c();"					+ "\n}"					+ "\n"					+ "\nvar sDomain = getQueryParam('domain');"					+ "\ndocument.domain = sDomain;"					+ "\nwindow.x=window.parent.x;"					+ "\nwindow.r=window.parent.r;"					+ "\nwindow.c=window.parent.c;"					+ "\nwindow.l=window.parent.l;"					+ "\n</script>"					+ "\n</head>"					+ "\n<script>"					+ "\n var sBlankUrl = \"\";"					+ "\n document.writeln('<frameset rows=\"0,0\" onLoad=\"loadedFrameset()\" border=\"0\" frameborder=\"0\" framespacing=\"0\">'); "					+ "\n document.writeln('<frame name=\"request\" src=\"'+sBlankUrl+'\" border=\"0\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" noresize scrolling=\"no\">');"					+ "\n document.writeln('<frame name=\"push\" src=\"'+sBlankUrl+'\" border=\"0\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" noresize scrolling=\"no\">'); "					+ "\n document.writeln('</frameset>'); " + "\n</script>" + "\n</html>";	public static String iframeHttpResponse() {		return IFRAME_HTTP_RESPONSE;	}}